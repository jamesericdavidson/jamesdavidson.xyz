<!-- Define width and height on lazy loaded images:
    https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/img#lazy -->

<!-- Reference:
    https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/_shortcodes/youtube.html -->

{{- $width := "100%" }}
{{- $height := "100%" }}
{{- $loading := "lazy" }}

{{- $src := .Get "src" }}
{{- $alt := .Get "alt" }}
{{- $width := or ($.Get "width") $width }}
{{- $height := or ($.Get "height") $height }}
{{- $loading := or ($.Get "loading") $loading }}

<img
    {{- with $src }} src="{{ . }}" {{- end }}
    {{- with $alt }} alt="{{ . }}" {{- end }}
    {{- with $width }} width="{{ . }}" {{- end }}
    {{- with $height }} height="{{ . }}" {{- end }}
    {{- with $loading }} loading="{{ . }}" {{- end -}} />
